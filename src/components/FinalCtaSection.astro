---
import { SignedIn, SignedOut, SignInButton } from "@clerk/astro/components";
---

<section class="final-cta-section px-6 md:px-12 py-24 md:py-36" aria-labelledby="cta-heading">

  <div class="cta-inner">
    <div class="cta-accent-line" aria-hidden="true"></div>
    <div class="cta-content">
      <span class="font-jet text-xs uppercase tracking-[0.25em] text-primary mb-4 block">Listo para empezar</span>
      <h2 id="cta-heading" class="font-departure text-4xl md:text-7xl uppercase text-black dark:text-white leading-none mb-4">
        Tu audiencia<br />te espera.
      </h2>
      <p class="font-jet text-sm text-black/50 dark:text-white/50 max-w-md mb-10 leading-relaxed">
        Crea tu cuenta gratis, elige un juego y lanza tu primer stream de práctica en menos de 30 segundos.
      </p>

      <nav aria-label="CTA final" class="flex flex-col sm:flex-row items-start sm:items-center gap-4">
        <SignedOut>
          <SignInButton
            mode="modal"
            class="cta-primary-large font-departure uppercase tracking-widest"
          >
            Empezar gratis
          </SignInButton>
          <span class="font-jet text-xs text-black/30 dark:text-white/30">Sin tarjeta de crédito</span>
        </SignedOut>
        <SignedIn>
          <a
            href="/dashboard"
            class="cta-primary-large font-departure uppercase tracking-widest"
            aria-label="Ir al dashboard"
          >
            Abrir Dashboard
          </a>
        </SignedIn>
      </nav>
    </div>
  </div>

</section>

<style>
  /* ─── Final CTA section ────────────────────── */
  .final-cta-section {
    border-top: 0.5px solid rgba(0,0,0,0.08);
  }
  @media (prefers-color-scheme: dark) {
    .final-cta-section { border-top-color: rgba(255,255,255,0.06); }
  }

  .cta-inner {
    display: grid;
    grid-template-columns: 1fr;
    gap: 3rem;
    max-width: 900px;
  }
  @media (min-width: 768px) {
    .cta-inner {
      grid-template-columns: 3px 1fr;
      align-items: start;
    }
  }

  .cta-accent-line {
    width: 3px;
    background: var(--color-primary);
    display: none;
  }
  @media (min-width: 768px) {
    .cta-accent-line {
      display: block;
      min-height: 14rem;
    }
  }

  .cta-primary-large {
    display: inline-block;
    background: var(--color-primary);
    color: var(--color-primary-text);
    padding: 1rem 2.5rem;
    font-size: 1rem;
    cursor: pointer;
    border: none;
    transition: opacity 0.15s ease, transform 0.15s ease;
  }
  .cta-primary-large:hover {
    opacity: 0.85;
    transform: translateY(-1px);
  }
</style>
