---
import { SignedIn, SignedOut, SignInButton } from "@clerk/astro/components";
import PlatformToggle from "./PlatformToggle.tsx";
---

<section class="hero-section relative overflow-hidden min-h-screen flex flex-col" aria-labelledby="hero-heading">

  <!-- Fondo de ruido/textura -->
  <div class="noise-overlay" aria-hidden="true"></div>
  
  <!-- LÃ­neas decorativas horizontales -->

  <div class="scanlines-bg" aria-hidden="true"></div>
  <!-- Header con toggle -->
  <header class="relative z-10 flex items-center justify-between px-6 md:px-12 pt-8 pb-4">
    <div class="flex items-center gap-3">
      <span class="status-dot" aria-hidden="true"></span>
      <span class="font-jet text-sm text-black dark:text-white/40 uppercase tracking-widest">v2.0 Â· beta</span>
    </div>
    <PlatformToggle client:load />
  </header>

  <!-- Contenido principal del hero -->
  <div class="relative z-10 flex-1 flex flex-col justify-center px-6 md:px-12 pb-16 pt-4 ">

    <!-- Eyebrow tag -->
    <div class="eyebrow-tag mb-6 self-start">
      <span class="font-jet text-xs sm:text-sm uppercase  tracking-[0.2em]">Simulador de Chat Â· Streaming</span>
    </div>

    <!-- TÃ­tulo principal -->
    <div class="hero-title-block mb-8">
      <h1 id="hero-heading" class="font-rocket leading-none text-black dark:text-white text-8xl sm:text-[200px]">
        Rocket
      </h1>
      <div class="flex justify-center sm:justify-start gap-4 flex-wrap">
        <span class="font-departure text-shadow-black   text-primary uppercase leading-none  text-2xl sm:text-7xl">
          Chat Simulator
        </span>
        <span class="font-jet text-sm text-black/50 dark:text-white/30 self-end pb-2 hidden md:inline">â€” by Alan San</span>
      </div>
    </div>

    <!-- DescripciÃ³n y CTA en grid -->
    <div class="hero-bottom-grid">

      <!-- Chat preview estÃ¡tico -->
      <div class="description-block">
        <div class="chat-preview">
          <!-- Header -->
          <div class="chat-preview-header">
            <span class="font-jet text-sm text-white/60">Chat</span>
          </div>
          <!-- Messages -->
          <div class="chat-preview-body">

            <div class="chat-row">
              <span class="chat-ts">0:00:04</span>
              <div class="chat-msg">
                <span style="color:#53FC18" class="font-semibold">xXShadowKiller99</span>
                <span class="text-white/40">: </span>
                <span class="text-white/90">acaba de entrar al stream OMEGALUL</span>
              </div>
            </div>

            <div class="chat-row alt">
              <span class="chat-ts">0:00:11</span>
              <div class="chat-msg">
                <span style="color:#FF8CC8" class="font-semibold">lunasita_uwu</span>
                <span class="text-white/40">: </span>
                <span class="text-white/90">gg bro que partida mas Ã©pica</span>
              </div>
            </div>

            <div class="chat-row">
              <span class="chat-ts">0:00:19</span>
              <div class="chat-msg">
                <span style="color:#74B9FF" class="font-semibold">ProGamer_404</span>
                <span class="text-white/40">: </span>
                <span class="text-white/90">ese move no lo vi venir PogChamp</span>
              </div>
            </div>

            <div class="chat-row alt">
              <span class="chat-ts">0:00:27</span>
              <div class="chat-msg">
                <span style="color:#9146FF" class="font-semibold">twitchfan_es</span>
                <span class="text-white/40">: </span>
                <span class="text-white/90">llevamos 5 muertes seguidas bro ðŸ’€</span>
              </div>
            </div>

            <div class="chat-row">
              <span class="chat-ts">0:00:35</span>
              <div class="chat-msg">
                <span style="color:#FFFC00" class="font-semibold">el_del_barrio</span>
                <span class="text-white/40">: </span>
                <span class="text-white/90">primera vez viendo el stream, saludos desde MÃ©xico!</span>
              </div>
            </div>

            <div class="chat-row alt">
              <span class="chat-ts">0:00:42</span>
              <div class="chat-msg">
                <span style="color:#00D8FF" class="font-semibold">NeonWatcher</span>
                <span class="text-white/40">: </span>
                <span class="text-white/90">cuÃ¡ntas horas llevas jugando hoy?</span>
              </div>
            </div>

            <div class="chat-row">
              <span class="chat-ts">0:00:58</span>
              <div class="chat-msg">
                <span style="color:#E17055" class="font-semibold">RetroVibe_ES</span>
                <span class="text-white/40">: </span>
                <span class="text-white/90">F en el chat por esa muerte LUL</span>
              </div>
            </div>

          </div>
        </div>
      </div>

      <!-- CTA -->
      <div class="cta-block">
        <nav aria-label="Acciones principales" class="flex flex-col gap-4">
          <SignedOut>
            <SignInButton
              mode="modal"
              class="cta-primary font-departure uppercase tracking-widest"
            >
              Comenzar Stream
            </SignInButton>
            <p class="font-jet text-sm  text-black/50 dark:text-white/40 text-center">
              Gratis Â· Sin tarjeta Â· Sin excusas
            </p>
          </SignedOut>
          <SignedIn>
            <a
              href="/dashboard"
              class="cta-primary font-departure uppercase tracking-widest text-center"
              aria-label="Ir al panel de control del simulador"
            >
              Ir al Dashboard
            </a>
          </SignedIn>
        </nav>

        <!-- Stats rÃ¡pidos -->
        <div class="quick-stats">
          <div class="stat-item">
            <span class="text-sm sm:text-3xl font-departure text-primary">7TV</span>
            <span class="stat-label font-jet text-xs text-black/40 dark:text-white/40">Emotes reales</span>
          </div>
          <div class="stat-divider" aria-hidden="true"></div>
          <div class="stat-item">
            <span class=" text-sm sm:text-3xl  font-departure text-primary">IA</span>
            <span class="stat-label font-jet text-xs text-black/40 dark:text-white/40">Mensajes Ãºnicos</span>
          </div>
          <div class="stat-divider" aria-hidden="true"></div>
          <div class="stat-item">
            <span class=" text-sm sm:text-3xl  font-departure text-primary">2x</span>
            <span class="stat-label font-jet text-xs text-black/40 dark:text-white/40">Plataformas</span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Scroll hint -->
  <div class="scroll-hint" aria-hidden="true">
    <span class="font-jet text-[0.8rem] uppercase tracking-[0.25em] text-black dark:text-white">scroll</span>
    <div class="scroll-line"></div>
  </div>

</section>

<style>
 
  /* â”€â”€â”€ Noise overlay â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .noise-overlay {
    position: absolute;
    inset: 0;
    opacity: 0.45;
    pointer-events: none;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    background-size: 256px 256px;
  }
  @media (prefers-color-scheme: dark) {
    .noise-overlay {
      opacity: 0.035;
    }
  }

  /* â”€â”€â”€ Scanlines background â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .scanlines-bg {
    position: absolute;
    inset: 0;
    pointer-events: none;
    background: repeating-linear-gradient(
      to bottom,
      transparent 0px,
      transparent 3px,
      rgba(0,0,0,0.012) 3px,
      rgba(0,0,0,0.015) 8px
    );
  }
  @media (prefers-color-scheme: dark) {
    .scanlines-bg {
      background: repeating-linear-gradient(
        to bottom,
        transparent 0px,
        transparent 3px,
        rgba(255,255,255,0.012) 3px,
        rgba(255,255,255,0.04) 4px
      );
    }
  }

  /* â”€â”€â”€ Status dot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .status-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: var(--color-primary);
    animation: pulse-dot 2.5s ease-in-out infinite;
    display: inline-block;

  }
  @keyframes pulse-dot {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(0.85); }
  }

  /* â”€â”€â”€ Eyebrow tag â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .eyebrow-tag {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.3rem 0.75rem;
    border: 0.5px solid rgba(0,0,0,0.35);
    background: rgba(0,0,0,0.04);

  }
  @media (prefers-color-scheme: dark) {
    .eyebrow-tag {
      border-color: rgba(255,255,255,.12);
      background: rgba(255,255,255,0.04);
    }
  }

  /* â”€â”€â”€ Hero bottom grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .hero-bottom-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    max-width: 1100px;
  }
  @media (min-width: 768px) {
    .hero-bottom-grid {
      grid-template-columns: 1.4fr 1fr;
      align-items: start;
    }
  }

  /* â”€â”€â”€ Chat preview estÃ¡tico â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .chat-preview {
    background: #111111;
    border: 1px solid rgba(255,255,255,0.1);
    overflow: hidden;
  }
  .chat-preview-header {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.75rem 1rem;
    border-bottom: 1px solid rgba(255,255,255,0.08);
    background: rgba(255,255,255,0.03);
  }
  .chat-preview-body {
    display: flex;
    flex-direction: column;
  }
  .chat-row {
    display: flex;
    align-items: center;
    gap: 0.25rem;
  }
  .chat-row.alt .chat-msg {
    background: rgba(0,0,0,0.05);
  }
  .chat-row:hover .chat-msg {
    background: rgba(255,255,255,0.05);
  }
  .chat-ts {
    font-family: var(--font-jet);
    font-size: 0.7rem;
    color: rgba(255,255,255,0.35);
    width: 4rem;
    flex-shrink: 0;
    padding: 0 0.5rem;
    tabular-nums: always;
  }
  .chat-msg {
    flex: 1;
    min-width: 0;
    font-family: var(--font-jet);
    font-size: 0.8rem;
    line-height: 1.5;
    padding: 0.6rem 0.5rem;
    transition: background 0.15s;
  }

  /* â”€â”€â”€ CTA block â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .cta-block {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }
  .cta-primary {
    display: inline-block;
    background: var(--color-primary);
    color: var(--color-primary-text);
    padding: 0.85rem 2rem;
    font-size: 0.9rem;
    cursor: pointer;
    border: none;
    transition: opacity 0.45s ease, transform 0.15s ease;
    text-align: center;
  }
  .cta-primary:hover {
    opacity: 0.85;
    transform: translateY(-1px);
  }
  .cta-primary:active {
    transform: translateY(0);
  }

  /* â”€â”€â”€ Quick stats â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .quick-stats {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 0;
    border-top: 0.8px solid rgba(0,0,0,1);
  }
  @media (prefers-color-scheme: dark) {
    .quick-stats {
      border-top-color: rgba(255,255,255,.2);
    }
  }
  .stat-item {
    display: flex;
    flex-direction: column;
    gap: 0.15rem;
  }
  .stat-value {
    font-size: 1.1rem;
    line-height: 1;
  }
  .stat-label {
    line-height: 1;
  }
  .stat-divider {
    width: 0.5px;
    height: 2rem;
    background: rgba(0,0,0,0.1);
  }
  @media (prefers-color-scheme: dark) {
    .stat-divider { background: rgba(255,255,255,0.2); }
  }

  /* â”€â”€â”€ Scroll hint â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .scroll-hint {
    position: absolute;
    bottom: 2rem;
    right: 2.5rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
  }
  .scroll-line {
    width: 0.5px;
    height: 3rem;
    background: linear-gradient(to bottom, rgba(0,0,0,0.3), transparent);
    animation: scroll-drop 2s ease-in-out infinite;
  }
  @media (prefers-color-scheme: dark) {
    .scroll-line { background: linear-gradient(to bottom, rgba(255,255,255,0.5), transparent); }
  }
  @keyframes scroll-drop {
    0% { transform: scaleY(0); transform-origin: top; }
    50% { transform: scaleY(1); transform-origin: top; }
    51% { transform: scaleY(1); transform-origin: bottom; }
    100% { transform: scaleY(0); transform-origin: bottom; }
  }
</style>
